{% extends 'admin/layout.html' %}
{% block content %}
    <style>
        .form-container { max-width: 800px; margin: 0 auto; }
        .form-card { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08); }
        .form-title { font-size: 28px; font-weight: 700; color: #1e293b; margin-bottom: 30px; text-align: center; position: relative; }
        .form-title::after { content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 60px; height: 3px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 2px; }
        .form-group { margin-bottom: 25px; opacity: 0; transform: translateY(20px); animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        .form-group:nth-child(1) { animation-delay: 0.1s; }
        .form-group:nth-child(2) { animation-delay: 0.2s; }
        .form-group:nth-child(3) { animation-delay: 0.3s; }
        .form-group:nth-child(4) { animation-delay: 0.4s; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #374151; font-size: 14px; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 14px 18px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 16px; font-family: inherit; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); background: #fafafa; }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: #667eea; background: white; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); transform: translateY(-2px); }
        .form-group textarea { resize: vertical; min-height: 120px; }
        .form-group select { cursor: pointer; appearance: none; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e"); background-position: right 12px center; background-repeat: no-repeat; background-size: 16px; padding-right: 40px; }
        .submit-btn { width: 100%; padding: 16px 30px; border: none; border-radius: 12px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .submit-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4); }
        @keyframes slideInUp { to { opacity: 1; transform: translateY(0); } }
    </style>

    <div class="form-container">
        <div class="form-card">
            <h2 class="form-title">{{ page_title }}</h2>
            <form method="post">
                {% for field in form_schema %}
                <div class="form-group">
                    <label for="{{ field.name }}">{{ field.label }}:</label>
                    
                    {% if field.type == 'textarea' %}
                        <textarea name="{{ field.name }}" id="{{ field.name }}">{{ item[field.name] if item else '' }}</textarea>
                    
                    {% elif field.type == 'relationship' %}
                        <select name="{{ field.name }}" id="{{ field.name }}">
                            <option value="">-- Pilih {{ field.label }} --</option>
                            {% for option in field.options %}
                                <option value="{{ option.id }}" {% if item and item[field.name] == option.id %}selected{% endif %}>
                                    {{ option[field.display_column] }}
                                </option>
                            {% endfor %}
                        </select>
                    
                    {% else %}
                        <input type="{{ field.type }}" name="{{ field.name }}" id="{{ field.name }}" value="{{ item[field.name] if item else '' }}">
                    {% endif %}
                </div>
                {% endfor %}
                <button type="submit" class="submit-btn">Simpan</button>
            </form>
        </div>
    </div>
{% endblock %}
